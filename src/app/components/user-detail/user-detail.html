<!-- src/app/components/user-detail/user-detail.component.html -->

<!-- 
 * User Detail Template
 * 
 * TEACHING POINT: Detail Page Structure
 * 
 * Good detail pages have:
 * - Back navigation
 * - Hero section (name, avatar, key info)
 * - Detailed information sections
 * - Related actions
 * - Contact information
 */ -->



<div class="user-detail-container">
  <!-- ========================================================================
       LOADING STATE
       ======================================================================== -->
  <div *ngIf="loading" class="loading-container">
    <mat-spinner></mat-spinner>
    <p>Loading user profile...</p>
  </div>


  <!-- ========================================================================
       USER PROFILE CONTENT
       ======================================================================== -->
  <div *ngIf="!loading && user" class="profile-content">
    
    <!-- ======================================================================
         BACK NAVIGATION
         ====================================================================== -->
    <!--
      TEACHING: Back Button      
      Help users navigate back to list.      
      Important for UX and site hierarchy.    -->
    <div class="back-navigation">
      <a mat-button routerLink="/users" class="back-button">
        <mat-icon>arrow_back</mat-icon>
        <span>Back to Users</span>
      </a>
    </div>

    <!-- ======================================================================
         HERO CARD (Main Profile Info)
         ====================================================================== -->
    <!--
      TEACHING: Hero Card      
      Primary information about the user.
      Large, prominent display.    -->
    <mat-card class="hero-card">
      <mat-card-content>
        <div class="hero-content">
          <!--
            TEACHING: Large Avatar            
            Profile photo as focal point.
            Much larger than list view.          -->
          <div class="hero-avatar">
            <div 
              *ngIf="user.avatar" 
              class="avatar-large"
              [style.background-image]="'url(' + user.avatar + ')'"
              [attr.aria-label]="user.name + ' profile photo'"
            ></div>
            <mat-icon *ngIf="!user.avatar" class="avatar-placeholder-large">
              person
            </mat-icon>
          </div>

          <!--
            TEACHING: Hero Text            
            Name, job title, company.
            Clear hierarchy with headings.          -->
          <div class="hero-text">
            <!--
              TEACHING: H1 with User Name              
              Every page needs one H1.
              Use actual user name for SEO!            -->
            <h1 class="user-name">{{ user.name }}</h1>
            
            <p *ngIf="user.jobTitle" class="job-title">
              <mat-icon class="inline-icon">work</mat-icon>
              {{ user.jobTitle }}
            </p>
            
            <p *ngIf="user.company" class="company-name">
              <mat-icon class="inline-icon">business</mat-icon>
              {{ user.company.name }}
            </p>

            <!--
              TEACHING: Bio Section              
              User's bio/description.
              Full text (not truncated like list view).            -->
            <p *ngIf="user.bio" class="user-bio">{{ user.bio }}</p>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- ======================================================================
         CONTACT INFORMATION CARD
         ====================================================================== -->
    <mat-card class="info-card">
      <mat-card-header>
        <mat-card-title>
          <mat-icon class="section-icon">contact_mail</mat-icon>
          Contact Information
        </mat-card-title>
      </mat-card-header>
      
      <mat-divider></mat-divider>
      
      <mat-card-content>
        <!--
          TEACHING: Contact Details Grid          
          Display contact info with icons.
          Some items are clickable (email, phone, website).        -->
        <div class="contact-grid">
          <!--
            TEACHING: Email Link            
            mailto: link opens email client.
            Good for user convenience.          -->
          <div class="contact-item">
            <mat-icon class="contact-icon">email</mat-icon>
            <div class="contact-text">
              <span class="contact-label">Email</span>
              <a [href]="'mailto:' + user.email" class="contact-value">
                {{ user.email }}
              </a>
            </div>
          </div>

          <!--
            TEACHING: Phone Link (if available)            
            tel: link enables click-to-call on mobile.          -->
          <div *ngIf="user.phone" class="contact-item">
            <mat-icon class="contact-icon">phone</mat-icon>
            <div class="contact-text">
              <span class="contact-label">Phone</span>
              <a [href]="'tel:' + user.phone" class="contact-value">
                {{ user.phone }}
              </a>
            </div>
          </div>

          <!--
            TEACHING: Website Link (if available)            
            target="_blank" opens in new tab.
            rel="noopener" for security.          -->
          <div *ngIf="user.website" class="contact-item">
            <mat-icon class="contact-icon">language</mat-icon>
            <div class="contact-text">
              <span class="contact-label">Website</span>
              <a 
                [href]="user.website" 
                target="_blank" 
                rel="noopener"
                class="contact-value"
              >
                {{ user.website }}
              </a>
            </div>
          </div>

          <!-- Username -->
          <div class="contact-item">
            <mat-icon class="contact-icon">alternate_email</mat-icon>
            <div class="contact-text">
              <span class="contact-label">Username</span>
              <span class="contact-value">{{ user.username }}</span>
            </div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- ======================================================================
         ADDRESS CARD (if available)
         ====================================================================== -->
    <mat-card *ngIf="user.address" class="info-card">
      <mat-card-header>
        <mat-card-title>
          <mat-icon class="section-icon">location_on</mat-icon>
          Location
        </mat-card-title>
      </mat-card-header>
      
      <mat-divider></mat-divider>
      
      <mat-card-content>
        <!--
          TEACHING: Address Display          
          Format address clearly.
          Could enhance with map integration.        -->
        <div class="address-content">
          <p class="address-line">
            <mat-icon class="inline-icon">home</mat-icon>
            {{ user.address.street }}
          </p>
          <p class="address-line">
            <mat-icon class="inline-icon">location_city</mat-icon>
            {{ user.address.city }}, {{ user.address.zipcode }}
          </p>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- ======================================================================
         COMPANY CARD (if available)
         ====================================================================== -->
    <mat-card *ngIf="user.company" class="info-card">
      <mat-card-header>
        <mat-card-title>
          <mat-icon class="section-icon">business_center</mat-icon>
          Company
        </mat-card-title>
      </mat-card-header>
      
      <mat-divider></mat-divider>
      
      <mat-card-content>
        <!--
          TEACHING: Company Information          
          Display company details.
          Could link to company page if available.        -->
        <div class="company-content">
          <h3 class="company-title">{{ user.company.name }}</h3>
          <p *ngIf="user.company.catchPhrase" class="company-tagline">
            "{{ user.company.catchPhrase }}"
          </p>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- ======================================================================
         ACTIONS CARD
         ====================================================================== -->
    <!--
      TEACHING: Action Buttons
      Related actions user might want to take.
      In real app: send message, add connection, etc.    -->
    <mat-card class="actions-card">
      <mat-card-content>
        <div class="action-buttons">
          <a 
            mat-raised-button 
            color="primary"
            [href]="'mailto:' + user.email"
            class="action-button"
          >
            <mat-icon>email</mat-icon>
            <span>Send Email</span>
          </a>
          
          <button 
            mat-stroked-button
            class="action-button"
            (click)="shareProfile()"
          >
            <mat-icon>share</mat-icon>
            <span>Share Profile</span>
          </button>
        </div>
      </mat-card-content>
    </mat-card>
  </div>

  <!-- ========================================================================
       ERROR STATE (User not found)
       ======================================================================== -->
  <div *ngIf="!loading && !user" class="error-state">
    <mat-icon class="error-icon">person_off</mat-icon>
    <h2>User Not Found</h2>
    <p>The user profile you're looking for doesn't exist.</p>
    <a mat-raised-button color="primary" routerLink="/users">
      <mat-icon>arrow_back</mat-icon>
      <span>Back to Users</span>
    </a>
  </div>
</div>

